{"version":3,"sources":["bundle.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","update_script","add_script","delete_script","_types","_output","_interopRequireDefault","_menu","_data","obj","__esModule","default","scripts","props","type","DELETE_SCRIPT","id","inputs","menuItem","newScript","dest","ADD_SCRIPT","data","menu","output","script","UPDATE_SCRIPT","input","attr","../reducers/data","../reducers/menu","../reducers/output","./types","2","3","_dataset","_utilities","_scriptActions","_transform","_editor","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","content","options","console","log","editorSettings","getEditorSettings","editor","wp","codeEditor","initialize","document","getElementById","elements","_svt","querySelector","settings","querySelectorAll","icons","init","isEmpty","this","newSession","setActiveScript","getFirstScript","events","_this","_this$elements","addEventListener","selectScript","bind","codemirror","on","codeUpdate","forEach","setting","attrUpdate","deleteScript","btn","toggleMenu","toggleButtons","uploadFile","target","classList","contains","getAttribute","uniqueID","activeScript","codeOutput","concat","setValue","setOption","mode","language","dataset","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","children","return","_scripts$id","label","file","entries","_arr$_i","key","textContent","getFileName","toggle","_ref","arguments","_this$elements2","_this$activeScript","getValue","compiledCode","compileCode","updateCompiledCode","preventDefault","toUpperCase","boilerplate","element","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","parentNode","checked","_this2","attachment","mediaUploader","uploader","state","get","first","toJSON","url","open","./actions/scriptActions","./modules/dataset","./modules/editor","./modules/transform","./modules/utilities","4","_defineProperties","descriptor","enumerable","configurable","writable","Savant","instance","Constructor","_classCallCheck","getInitialScripts","getOptions","protoProps","staticProps","x","from","reduce","acc","curr","prototype","5","theme","javascript","defaultSettings","_","clone","extend","indentUnit","tabSize","6","Babel","presets","transform","../actions/scriptActions","7","hasOwnProperty","Math","floor","random","unique","keys","str","replace","media","frames","file_frame","title","button","text","multiple","8","action","_action$data","9","node","createElement","add","appendChild","remove","10","_value","name"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.update_script = exports.add_script = exports.delete_script = void 0;\n\nvar _types = require(\"./types\");\n\nvar _output = _interopRequireDefault(require(\"../reducers/output\"));\n\nvar _menu = _interopRequireDefault(require(\"../reducers/menu\"));\n\nvar _data = _interopRequireDefault(require(\"../reducers/data\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar delete_script = function delete_script(scripts, props) {\n  var type = _types.DELETE_SCRIPT;\n  var id = props.id,\n      inputs = props.inputs,\n      menuItem = props.menuItem;\n  (0, _data.default)({\n    type: type,\n    scripts: scripts,\n    id: id\n  });\n  (0, _output.default)({\n    type: type,\n    inputs: inputs\n  });\n  (0, _menu.default)({\n    type: type,\n    menuItem: menuItem\n  });\n};\n\nexports.delete_script = delete_script;\n\nvar add_script = function add_script(scripts, newScript, dest) {\n  var type = _types.ADD_SCRIPT;\n  var data = (0, _data.default)({\n    type: type,\n    scripts: scripts,\n    data: newScript\n  });\n  (0, _menu.default)({\n    type: type,\n    data: data,\n    dest: dest.menu\n  });\n  (0, _output.default)({\n    type: type,\n    data: data,\n    dest: dest.output\n  });\n};\n\nexports.add_script = add_script;\n\nvar update_script = function update_script(script, data, dest) {\n  var type = _types.UPDATE_SCRIPT;\n  var value = (0, _data.default)({\n    type: type,\n    script: script,\n    data: data\n  });\n  (0, _output.default)({\n    type: type,\n    value: value,\n    dest: dest.input\n  });\n  if (dest.menuItem) (0, _menu.default)({\n    type: type,\n    attr: data.attr,\n    value: value,\n    dest: dest.menuItem\n  });\n};\n\nexports.update_script = update_script;\n\n},{\"../reducers/data\":8,\"../reducers/menu\":9,\"../reducers/output\":10,\"./types\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UPDATE_SCRIPT = exports.ADD_SCRIPT = exports.DELETE_SCRIPT = void 0;\nvar DELETE_SCRIPT = 'DELETE_SCRIPT';\nexports.DELETE_SCRIPT = DELETE_SCRIPT;\nvar ADD_SCRIPT = 'ADD_SCRIPT';\nexports.ADD_SCRIPT = ADD_SCRIPT;\nvar UPDATE_SCRIPT = 'UPDATE_SCRIPT';\nexports.UPDATE_SCRIPT = UPDATE_SCRIPT;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _dataset = _interopRequireDefault(require(\"./modules/dataset\"));\n\nvar _utilities = require(\"./modules/utilities\");\n\nvar _scriptActions = require(\"./actions/scriptActions\");\n\nvar _transform = require(\"./modules/transform\");\n\nvar _editor = require(\"./modules/editor\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// Initialise Data\nvar content = new _dataset.default();\nvar scripts = content.scripts,\n    options = content.options;\nconsole.log(options); // Setup Editor\n// Todo: Add Editor options to settings menu\n\nvar editorSettings = (0, _editor.getEditorSettings)(options);\nvar editor = wp.codeEditor.initialize(document.getElementById('savantEditor'), editorSettings); // Todo: Move Core to Class\n\nvar core = {\n  // Cache DOM\n  elements: {\n    _svt: document.getElementById('savant_meta'),\n    menu: document.querySelector('.savant-tab ul'),\n    output: document.querySelector('.savant-data'),\n    settings: document.querySelectorAll('.savant-settings .settings-field'),\n    icons: document.querySelectorAll('.controls i.icon')\n  },\n  // Initialise User Interface\n  init: function init() {\n    !(0, _utilities.isEmpty)(scripts) ? this.setActiveScript((0, _utilities.getFirstScript)(scripts)) : this.newSession(true);\n    this.events();\n  },\n  events: function events() {\n    var _this = this;\n\n    var _this$elements = this.elements,\n        _svt = _this$elements._svt,\n        menu = _this$elements.menu,\n        settings = _this$elements.settings,\n        icons = _this$elements.icons; // Select Item from Nav\n\n    menu.addEventListener('click', this.selectScript.bind(this)); // Update data object and inputs field on editor input\n\n    editor.codemirror.on('change', this.codeUpdate.bind(this)); // Settings Fields\n\n    settings.forEach(function (setting) {\n      return setting.addEventListener('input', _this.attrUpdate.bind(_this));\n    }); // Bin Item\n\n    _svt.querySelector('i.trash').addEventListener('click', this.deleteScript.bind(this)); // Submits new script form\n\n\n    _svt.querySelector('button.btn[type=\"submit\"]').addEventListener('click', this.newScript.bind(this)); // Icon Buttons\n\n\n    icons.forEach(function (btn) {\n      return btn.addEventListener('click', _this.toggleMenu.bind(_this));\n    }); // Toggles radio input buttons\n\n    _svt.querySelectorAll('.btn.radio').forEach(function (btn) {\n      return btn.addEventListener('click', _this.toggleButtons);\n    }); // WP uploader\n\n\n    _svt.querySelector('.file .upload').addEventListener('click', this.uploadFile.bind(this));\n  },\n  selectScript: function selectScript(e) {\n    if (!e.target.classList.contains('button-language')) return;\n    var id = e.target.getAttribute('data-id');\n    var temp = (0, _utilities.uniqueID)(scripts); // Set Active Script\n\n    this.setActiveScript(id);\n  },\n  setActiveScript: function setActiveScript(id) {\n    // Set activeScript object value\n    this.activeScript = {\n      id: id,\n      codeOutput: this.elements.output.querySelector(\"input[data-id=\\\"\".concat(id, \"\\\"][data-attribute=\\\"code\\\"]\"))\n    }; // Set Value in editor\n\n    editor.codemirror.setValue(scripts[id].code);\n    editor.codemirror.setOption('mode', options.mode[scripts[id].language]);\n    document.querySelector('.savant-window').dataset['type'] = scripts[id].type; // Add Active class to button\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.elements.menu.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var a = _step.value;\n        a.classList[a.dataset['id'] == id ? 'add' : 'remove']('active');\n      } // Set settings values\n\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var _scripts$id = scripts[id],\n        label = _scripts$id.label,\n        type = _scripts$id.type,\n        language = _scripts$id.language,\n        file = _scripts$id.file;\n\n    var _arr = Object.entries({\n      label: label,\n      type: type,\n      language: language\n    });\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var _arr$_i = _slicedToArray(_arr[_i], 2),\n          key = _arr$_i[0],\n          value = _arr$_i[1];\n\n      document.querySelector(\".settings-field[data-attribute=\\\"\".concat(key, \"\\\"]\")).value = value;\n    } // Set the editor or file window\n\n\n    document.querySelector('.savant-window').dataset['type'] = type; // Set the file tag name\n\n    document.querySelector('.file div span').textContent = (0, _utilities.getFileName)(file);\n  },\n  newSession: function newSession(toggle) {\n    document.querySelector('.savant-config').classList[toggle ? 'add' : 'remove']('new', 'expand');\n    document.querySelector('.savant.side-bar').classList[toggle ? 'add' : 'remove']('new', 'expand');\n  },\n  deleteScript: function deleteScript() {\n    var id = this.activeScript.id;\n    var menuItem = document.querySelector(\".savant-tab [data-id=\\\"\".concat(id, \"\\\"]\")); // Delete item from Data Object and DOM\n\n    (0, _scriptActions.delete_script)(scripts, {\n      id: id,\n      inputs: document.querySelectorAll(\".savant-data input[data-id=\\\"\".concat(id, \"\\\"]\")),\n      menuItem: menuItem\n    }); // If Scripts Object is not empty set Active Script to first item else set New Session Window\n\n    if (!(0, _utilities.isEmpty)(scripts)) {\n      this.setActiveScript((0, _utilities.getFirstScript)(scripts));\n    } else {\n      this.newSession(true);\n      editor.codemirror.setValue('');\n    }\n  },\n  attrUpdate: function attrUpdate(_ref) {\n    var target = _ref.target;\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var id = this.activeScript.id;\n    var _this$elements2 = this.elements,\n        output = _this$elements2.output,\n        menu = _this$elements2.menu;\n    var attr = data.attr || target.dataset['attribute'];\n    var value = data.value || target.value;\n    var dest = {\n      input: output.querySelector(\"[data-id=\\\"\".concat(id, \"\\\"][data-attribute=\\\"\").concat(attr, \"\\\"]\")),\n      menuItem: menu.querySelector(\"[data-id=\\\"\".concat(id, \"\\\"]\"))\n    }; // Update Object, Menu and input fields\n\n    (0, _scriptActions.update_script)(scripts[id], {\n      attr: attr,\n      value: value\n    }, dest); // Set the editor to new Mode\n\n    if (attr === 'language') editor.setOption('mode', options.mode[scripts[id].language]); // Set the editor or file window\n\n    if (attr === 'type') document.querySelector('.savant-window').dataset['type'] = value; // Set file name under button\n\n    if (attr === 'file') {\n      document.querySelector('.file div span').textContent = (0, _utilities.getFileName)(value);\n    }\n  },\n  codeUpdate: function codeUpdate() {\n    if ((0, _utilities.isEmpty)(scripts)) return;\n    var _this$activeScript = this.activeScript,\n        id = _this$activeScript.id,\n        codeOutput = _this$activeScript.codeOutput;\n    var code = editor.codemirror.getValue(); // Get the editor input, update Object and output to <input> data inputFields\n\n    (0, _scriptActions.update_script)(scripts[id], {\n      attr: 'code',\n      value: code\n    }, {\n      input: codeOutput\n    }); // Add only if options include babel code\n\n    if (scripts[id].language === 'javascript' && options['compiler']) {\n      var output = this.elements.output;\n      var compiledCode = (0, _transform.compileCode)(code, ['es2015', 'stage-0']);\n      var input = output.querySelector(\"input[name=\\\"savant_field[\".concat(id, \"][compiled]\\\"]\"));\n      (0, _transform.updateCompiledCode)(scripts[id], compiledCode, input);\n    }\n  },\n  newScript: function newScript(e) {\n    e.preventDefault();\n    var n = document.querySelector('div.savant-config'); // Get new data from input form\n\n    var language = n.querySelector('.language input:checked').value;\n    var label = n.querySelector('.label input').value || language.toUpperCase();\n    var type = n.querySelector('.type input:checked').value;\n    var id = (0, _utilities.uniqueID)(scripts); // Add new script to Scripts Object\n\n    var data = {\n      id: id,\n      language: language,\n      type: type,\n      label: label,\n      code: options.boilerplate[language],\n      file: ''\n    };\n    (0, _scriptActions.add_script)(scripts, data, this.elements); // Reset Menu Toggle Icon\n\n    this.toggleMenu(this.elements._svt.querySelector('i.icon.add-new')); // Reset fields\n\n    this.newSession(false); // Set new active script\n\n    this.setActiveScript(scripts[id].id);\n  },\n  toggleMenu: function toggleMenu(e) {\n    var element = e.target || e;\n    var target = element.getAttribute('menu-target');\n\n    this.elements._svt.querySelector(\".\".concat(target)).classList.toggle('expand');\n\n    element.classList.toggle('open');\n  },\n  toggleButtons: function toggleButtons() {\n    // Add Active class to button\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = this.parentNode.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var btn = _step2.value;\n        btn.classList[this == btn ? 'add' : 'remove']('active');\n        btn.children[0].checked = this == btn ? true : false;\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  },\n  uploadFile: function uploadFile(e) {\n    var _this2 = this;\n\n    e.preventDefault();\n    var mediaUploader = (0, _utilities.uploader)();\n    var attachment;\n    mediaUploader.on('select', function () {\n      attachment = mediaUploader.state().get('selection').first().toJSON();\n\n      _this2.attrUpdate(e, {\n        attr: 'file',\n        value: attachment.url\n      });\n    });\n    mediaUploader.open();\n  }\n};\ncore.init();\n\n},{\"./actions/scriptActions\":1,\"./modules/dataset\":4,\"./modules/editor\":5,\"./modules/transform\":6,\"./modules/utilities\":7}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Savant =\n/*#__PURE__*/\nfunction () {\n  function Savant() {\n    _classCallCheck(this, Savant);\n\n    // Get Scripts Object\n    this.scripts = this.getInitialScripts(); // Get Options Object\n\n    this.options = this.getOptions();\n  }\n\n  _createClass(Savant, [{\n    key: \"getInitialScripts\",\n    value: function getInitialScripts() {\n      var x = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = document.querySelectorAll('.savant-data input')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var input = _step.value;\n          var id = input.getAttribute('data-id');\n          var attr = input.getAttribute('data-attribute');\n          if (!x[id]) x[id] = {};\n          x[id][attr] = input.value;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return x;\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      var inputs = Array.from(document.querySelectorAll('.savant-options input'));\n      return inputs.reduce(function (acc, curr) {\n        var type = curr.dataset['attribute'];\n        var attr = curr.dataset['language'] || false;\n        if (!acc[type]) acc[type] = {};\n\n        if (attr) {\n          acc[type][attr] = curr.value;\n        } else {\n          acc[type] = curr.value;\n        }\n\n        return acc;\n      }, {});\n    }\n  }]);\n\n  return Savant;\n}();\n\nexports.default = Savant;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEditorSettings = void 0;\n\nvar getEditorSettings = function getEditorSettings(_ref) {\n  var theme = _ref.theme,\n      javascript = _ref.mode.javascript;\n  console.log(wp.codeEditor);\n  var editorSettings = wp.codeEditor.defaultSettings ? _.clone(wp.codeEditor.defaultSettings) : {};\n  console.log('initialise');\n  editorSettings.codemirror = _.extend({}, editorSettings.codemirror, {\n    indentUnit: 2,\n    tabSize: 2,\n    theme: theme,\n    mode: javascript\n  });\n  return editorSettings;\n};\n\nexports.getEditorSettings = getEditorSettings;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateCompiledCode = exports.compileCode = void 0;\n\nvar _scriptActions = require(\"../actions/scriptActions\");\n\nconsole.log(Babel);\n\nvar compileCode = function compileCode(code, presets) {\n  return Babel ? Babel.transform(code, {\n    presets: presets\n  }).code : null;\n};\n\nexports.compileCode = compileCode;\n\nvar updateCompiledCode = function updateCompiledCode(script, value, input) {\n  return (0, _scriptActions.update_script)(script, {\n    attr: 'compiled',\n    value: value\n  }, {\n    input: input\n  });\n};\n\nexports.updateCompiledCode = updateCompiledCode;\n\n},{\"../actions/scriptActions\":1}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uploader = exports.getFileName = exports.getFirstScript = exports.uniqueID = exports.isEmpty = void 0;\n\nvar getUniqueID = function getUniqueID() {\n  return Math.floor(Math.random() * 9999999 + 1);\n};\n\nvar isEmpty = function isEmpty(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) return false;\n  }\n\n  return true;\n};\n\nexports.isEmpty = isEmpty;\n\nvar uniqueID = function uniqueID(obj) {\n  var id = getUniqueID();\n  var unique = true;\n\n  var _arr = Object.keys(obj);\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var num = _arr[_i];\n    if (id == num) unique = false;\n  }\n\n  if (!unique) {\n    uniqueID(obj);\n  } else {\n    return id;\n  }\n};\n\nexports.uniqueID = uniqueID;\n\nvar getFirstScript = function getFirstScript(obj) {\n  return Object.keys(obj)[0];\n};\n\nexports.getFirstScript = getFirstScript;\n\nvar getFileName = function getFileName(str) {\n  return str.replace(/(.*)wp-content/g, '....');\n};\n\nexports.getFileName = getFileName;\n\nvar uploader = function uploader() {\n  var mediaUploader;\n  mediaUploader = wp.media.frames.file_frame = wp.media({\n    title: 'Choose a File',\n    button: {\n      text: 'Choose File'\n    },\n    multiple: false\n  });\n  return mediaUploader;\n};\n\nexports.uploader = uploader;\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(action) {\n  switch (action.type) {\n    case 'ADD_SCRIPT':\n      var data = action.data,\n          scripts = action.scripts;\n      scripts[data.id] = data;\n      return scripts[data.id];\n\n    case 'UPDATE_SCRIPT':\n      var script = action.script,\n          _action$data = action.data,\n          attr = _action$data.attr,\n          value = _action$data.value;\n      script[attr] = value;\n      return script[attr];\n\n    case 'DELETE_SCRIPT':\n      var id = action.id;\n      delete action.scripts[id];\n      break;\n\n    default:\n      return;\n  }\n};\n\nexports.default = _default;\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(action) {\n  switch (action.type) {\n    case 'ADD_SCRIPT':\n      var _action$data = action.data,\n          id = _action$data.id,\n          language = _action$data.language,\n          label = _action$data.label;\n      var node = document.createElement('li');\n      node.dataset['attribute'] = language;\n      node.dataset['id'] = id;\n      node.classList.add('button-language');\n      node.textContent = label;\n      action.dest.appendChild(node);\n      break;\n\n    case 'UPDATE_SCRIPT':\n      var attr = action.attr,\n          value = action.value,\n          dest = action.dest;\n\n      if (attr === 'label') {\n        dest.textContent = value;\n      } else if (attr === 'language') {\n        dest.dataset['attribute'] = value;\n      }\n\n      break;\n\n    case 'DELETE_SCRIPT':\n      action.menuItem.remove();\n      break;\n\n    default:\n      return;\n  }\n};\n\nexports.default = _default;\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _default = function _default(action) {\n  switch (action.type) {\n    case 'DELETE_SCRIPT':\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = action.inputs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var input = _step.value;\n          input.remove();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      break;\n\n    case 'ADD_SCRIPT':\n      var id = action.data.id;\n\n      var _arr = Object.entries(action.data);\n\n      for (var _i = 0; _i < _arr.length; _i++) {\n        var _arr$_i = _slicedToArray(_arr[_i], 2),\n            key = _arr$_i[0],\n            _value = _arr$_i[1];\n\n        var node = document.createElement('input');\n        node.dataset['attribute'] = key;\n        node.dataset['id'] = id;\n        node.name = \"savant_field[\".concat(id, \"][\").concat(key, \"]\");\n        node.type = 'hidden';\n        node.value = _value;\n        action.dest.appendChild(node);\n      }\n\n      break;\n\n    case 'UPDATE_SCRIPT':\n      var dest = action.dest,\n          value = action.value;\n      dest.value = value;\n      break;\n\n    default:\n      return;\n  }\n};\n\nexports.default = _default;\n\n},{}]},{},[3]);\n"]}